// Generated by CoffeeScript 1.11.1
(function() {
  Polymer({
    is: 'zillow-content-map',
    properties: {
      mapData: {
        type: Object,
        observer: '_calculateCoordinates'
      },
      gMapApiKey: String
    },
    ready: function() {
      this._getGoogleMapKey();
    },
    _calculateCoordinates: function() {
      var map, marker;
      if (this.gMapApiKey === void 0 || this.gMapApiKey === null) {
        this._getGoogleMapKey();
      }
      map = this.$.gMap;
      marker = this.$.gMarker;
      map.latitude = parseFloat(this.mapData.latitude);
      map.longitude = parseFloat(this.mapData.longitude);
      marker.latitude = parseFloat(this.mapData.latitude);
      marker.longitude = parseFloat(this.mapData.longitude);
    },
    _getGoogleMapKey: function() {
      var promise;
      promise = this.$.xhr.send({
        url: "http://liangyuanzillowapi.azurewebsites.net/api/googlemapkey"
      });
      return promise.then((function(_this) {
        return function(result) {
          console.log(result.response);
          _this.set('gMapApiKey', result.response);
        };
      })(this));
    }
  });

}).call(this);

//# sourceMappingURL=zillow-content-map.js.map
